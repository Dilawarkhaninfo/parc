<ngx-spinner bgColor="rgba(51,51,51,0.8)"
size="medium"
color="#1fed83"
type="ball-triangle-path"
>
<p style="font-size: 2opx; color: white;">Loading...</p>
</ngx-spinner>


<div class="pagetitle mb-2">
  <h3>Pages Management</h3>
</div><!-- End Page Title -->

<section class="section dashboard">
  <div class="row">
    <div class="col-12">
      <div class="row py-2 justify-content-end">
        <div class="col-4">
          <div class="text-end">
              <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal">
                Add New Page
            </button>
          </div>
        </div>
      </div>
    <!-- Modal -->
    <div class="modal  fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div style="background-color: yellowgreen" class="modal-header">
                    <h5 style="color: white" class="modal-title" id="exampleModalLabel">
                        Add Pages
                    </h5>
                    <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form [formGroup]="pageform" (ngSubmit)="SavePage()">
                        <div class="form-group">
                            <label for="code">Page Name</label>
                            <input class="form-control" placeholder="enter the name " formControlName="pageName" />
                        </div>

                        <div class="form-group">
                            <label for="name">Page Discription</label>
                            <angular-editor  placeholder="enter the page description"
                            formControlName="pageDescription"></angular-editor>
                        </div>
                        <label for="menu">Add Menus</label>
                        <div>
                            <table class="table table-bordered" formArrayName="menus">
                                <!-- Table header -->
                                <thead>
                                    <tr>
                                        <!-- <td>Id</td> -->
                                        <td>Menus</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of menus.controls; let i = index" [formGroupName]="i">
                                        <!-- <td>
                                          <input class="form-control" formControlName="id">
                                      </td> -->
                                        <td>
                                            <input class="form-control" placeholder="Enter new menu"
                                                formControlName="menuName" />
                                        </td>
                                        <td>
                                            <a class="btn btn-danger" (click)="RemoveMenus(i)">Remove</a>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="7">
                                            <a class="btn btn-primary" (click)="AddMenus()">Add New Menu</a>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                        <label for="submenu">Add Submenus</label>
                        <div>
                            <table class="table table-bordered" formArrayName="subMenus">
                                <!-- Table header -->
                                <thead>
                                    <tr>
                                        <!-- <td>Id</td> -->
                                        <td>Sub Menu</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let item of subMenus.controls; let i = index" [formGroupName]="i">
                                        <!-- <td>
                                          <input class="form-control" formControlName="id">
                                      </td> -->
                                        <td>
                                            <input class="form-control" placeholder="Enter new Submenu"
                                                formControlName="submenuName" />
                                        </td>
                                        <td>
                                            <a class="btn btn-danger" (click)="RemoveSubMenus(i)">Remove</a>
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="7">
                                            <a class="btn btn-primary" (click)="AddSubMenus()">Add SubMenu</a>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </form>
                </div>
                <div class="modal-footer" style="background-color: yellowgreen">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">
                        Cancel
                    </button>
                    <button (click)="SavePage()" data-bs-dismiss="modal" type="button" class="btn btn-primary">
                        Add Page
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="card shadow">
      <div class="card-body">
        <div class="">
            <table class="table table-bordered">
              <thead>
                  <tr>
                      <th scope="col">Page Title </th>
                      <th scope="col">Page Deccription</th>
                      <th scope="col">Actions</th>
                  </tr>
              </thead>
              <tbody>
                  <tr *ngFor="let item of pagedata">
                      <td>{{ item.pageName }}</td>
                      <!-- <td>{{ item.pageDescription }}</td> -->
                      <td [innerHTML]="sanitizeHtml(item.pageDescription)"></td>



                      <td>
                          <button routerLink="/update/{{item.pageId}}" class="btn btn-warning">
                              Eidt</button>&nbsp;
                              <button (click)="delete(item.pageId)"  class="btn btn-danger">Delete</button>&nbsp;
                          <button routerLink="/userpage/{{item.pageId}}" class="btn btn-success">
                              View
                          </button>
                      </td>
                  </tr>
              </tbody>
            </table>
        </div>
      </div>
    </div>
    </div>
  </div>
</section>


<!-- <angular-editor placeholder="enter your text here "></angular-editor> -->





