<ngx-spinner bgColor="rgba(51,51,51,0.8)"
size="medium"
color="#1fed83"
type="square-jelly-box"
>
<p style="font-size: 2opx; color: white;">Updating...</p>
</ngx-spinner>

<div class="pagetitle mb-2">
  <h3>Page Update</h3>
</div><!-- End Page Title -->

<section class="section dashboard">
  <div class="row">
    <div class="col-12">
      <div class="row py-2 justify-content-end">
        <div class="col-4">
          <div class="text-end">
              <a routerLink="#" class="btn btn-success">
                All Pages
              </a>
          </div>
        </div>
      </div>
      <div class="card shadow">
        <div class="card-body">
          <div class="">
            <h5>Update Data</h5>
            <div>
              <form [formGroup]="pageform" (ngSubmit)="updatePage()">
                  <div class="form-group">
                      <label for="code">Page Name</label>
                      <input class="form-control" placeholder="enter the name " formControlName="pageName" />
                  </div>

                  <div class="form-group">
                      <label for="name">Page Discription</label>

                          <angular-editor  placeholder="enter the page description"
                          formControlName="pageDescription"></angular-editor>
                  </div>
                  <label for="menu">Add Menus</label>
                  <div>
                      <table class="table table-bordered" formArrayName="menus">
                          <!-- Table header -->
                          <thead>
                              <tr>
                                  <!-- <td>Id</td> -->
                                  <td>Menus</td>
                              </tr>
                          </thead>
                          <tbody>
                              <tr *ngFor="let item of menus.controls; let i = index" [formGroupName]="i">
                                  <!-- <td class="d-none">
                                    <input class="form-control hidden" formControlName="menuId">
                                </td> -->
                                  <td>
                                      <input class="form-control" placeholder="Enter new menu"
                                          formControlName="menuName" />
                                  </td>
                                  <!-- <td>
                                      <a class="btn btn-danger" (click)="RemoveMenus(i)">Remove</a>
                                  </td> -->
                              </tr>
                          </tbody>
                          <tfoot>
                              <tr>
                                  <td colspan="7">
                                      <a class="btn btn-primary" (click)="AddMenus()">Add New Menu</a>
                                  </td>
                              </tr>
                          </tfoot>
                      </table>
                  </div>
                  <label for="submenu">Add Submenus</label>
                  <div>
                      <table class="table table-bordered" formArrayName="subMenus">
                          <!-- Table header -->
                          <thead>
                              <tr>
                                  <!-- <td>Id</td> -->
                                  <td>Sub Menu</td>
                              </tr>
                          </thead>
                          <tbody>
                              <tr *ngFor="let item of subMenus.controls; let i = index" [formGroupName]="i">
                                  <!-- <td class="d-none">
                                    <input class="form-control hidden" formControlName="submenuId">
                                </td> -->
                                  <td>
                                      <input class="form-control" placeholder="Enter new Submenu"
                                          formControlName="submenuName" />
                                  </td>
                                  <!-- <td>
                                      <a class="btn btn-danger" (click)="RemoveSubMenus(i)">Remove</a>
                                  </td> -->
                              </tr>
                          </tbody>
                          <tfoot>
                              <tr>
                                  <td colspan="7">
                                      <a class="btn btn-primary" (click)="AddSubMenus()">Add SubMenu</a>
                                  </td>
                              </tr>
                          </tfoot>
                      </table>
                  </div>
              </form>
            </div>
            <div>
                <button (click)="updatePage()" class="btn btn-success">Update</button>&nbsp;
                <button routerLink="/" class="btn btn-dark">Cancel</button>
          </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
